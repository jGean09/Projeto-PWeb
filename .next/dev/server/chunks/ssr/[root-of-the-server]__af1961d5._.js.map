{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ivyso/Documents/proj_animes/proj_anime/components/SearchBox.tsx"],"sourcesContent":["\"use client\";\r\nimport { useState } from \"react\";\r\n\r\nexport default function SearchBox({ onSearch }) {\r\n  const [term, setTerm] = useState(\"\");\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onSearch(term);\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} style={{ marginBottom: 20 }}>\r\n      <input\r\n        value={term}\r\n        onChange={e => setTerm(e.target.value)}\r\n        placeholder=\"Buscar anime...\"\r\n        style={{\r\n          padding: \"8px\",\r\n          width: \"250px\",\r\n          marginRight: \"10px\",\r\n          border: \"1px solid #ccc\"\r\n        }}\r\n      />\r\n\r\n      <button type=\"submit\">\r\n        Buscar\r\n      </button>\r\n    </form>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AADA;;;AAGe,SAAS,UAAU,EAAE,QAAQ,EAAE;IAC5C,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAC;IAEjC,SAAS,aAAa,CAAC;QACrB,EAAE,cAAc;QAChB,SAAS;IACX;IAEA,qBACE,8OAAC;QAAK,UAAU;QAAc,OAAO;YAAE,cAAc;QAAG;;0BACtD,8OAAC;gBACC,OAAO;gBACP,UAAU,CAAA,IAAK,QAAQ,EAAE,MAAM,CAAC,KAAK;gBACrC,aAAY;gBACZ,OAAO;oBACL,SAAS;oBACT,OAAO;oBACP,aAAa;oBACb,QAAQ;gBACV;;;;;;0BAGF,8OAAC;gBAAO,MAAK;0BAAS;;;;;;;;;;;;AAK5B"}},
    {"offset": {"line": 65, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ivyso/Documents/proj_animes/proj_anime/components/AnimeCard.tsx"],"sourcesContent":["export default function AnimeCard({ anime }) {\r\n  return (\r\n    <div style={{\r\n      border: \"1px solid #ccc\",\r\n      borderRadius: 8,\r\n      padding: 10,\r\n      display: \"flex\",\r\n      gap: 10,\r\n      marginBottom: 12\r\n    }}>\r\n      <img\r\n        src={anime.images?.jpg?.image_url}\r\n        alt={anime.title}\r\n        width={70}\r\n        height={100}\r\n        style={{ objectFit: \"cover\", borderRadius: 4 }}\r\n      />\r\n\r\n      <div>\r\n        <h3 style={{ margin: 0 }}>{anime.title}</h3>\r\n        {anime.year && <p style={{ margin: \"4px 0\" }}>Ano: {anime.year}</p>}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAe,SAAS,UAAU,EAAE,KAAK,EAAE;IACzC,qBACE,8OAAC;QAAI,OAAO;YACV,QAAQ;YACR,cAAc;YACd,SAAS;YACT,SAAS;YACT,KAAK;YACL,cAAc;QAChB;;0BACE,8OAAC;gBACC,KAAK,MAAM,MAAM,EAAE,KAAK;gBACxB,KAAK,MAAM,KAAK;gBAChB,OAAO;gBACP,QAAQ;gBACR,OAAO;oBAAE,WAAW;oBAAS,cAAc;gBAAE;;;;;;0BAG/C,8OAAC;;kCACC,8OAAC;wBAAG,OAAO;4BAAE,QAAQ;wBAAE;kCAAI,MAAM,KAAK;;;;;;oBACrC,MAAM,IAAI,kBAAI,8OAAC;wBAAE,OAAO;4BAAE,QAAQ;wBAAQ;;4BAAG;4BAAM,MAAM,IAAI;;;;;;;;;;;;;;;;;;;AAItE"}},
    {"offset": {"line": 138, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ivyso/Documents/proj_animes/proj_anime/hooks/useAnimeList.ts"],"sourcesContent":["import { useEffect, useRef, useState } from \"react\";\r\n\r\nexport function useAnimeList() {\r\n  const [items, setItems] = useState<any[]>([]);\r\n  const [page, setPage] = useState(1);\r\n  const [finished, setFinished] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const lastTerm = useRef<string>(\"\");\r\n\r\n  async function loadMore(term: string) {\r\n    if (loading || finished) return;\r\n    setLoading(true);\r\n\r\n    if (term !== lastTerm.current) {\r\n      // novo termo de busca\r\n      lastTerm.current = term;\r\n      setItems([]);\r\n      setPage(1);\r\n      setFinished(false);\r\n    }\r\n\r\n    const url = `https://api.jikan.moe/v4/anime?q=${term}&page=${page}`;\r\n    const response = await fetch(url);\r\n\r\n    if (!response.ok) {\r\n      console.error(\"Erro na API\", response.status);\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    const json = await response.json();\r\n    const data = json.data ?? [];\r\n\r\n    if (data.length === 0) {\r\n      setFinished(true);\r\n    } else {\r\n      setItems(old => [...old, ...data]);\r\n      setPage(old => old + 1);\r\n    }\r\n\r\n    setLoading(false);\r\n  }\r\n\r\n  function sortItems(type: string) {\r\n    const sorted = [...items];\r\n\r\n    if (type === \"nome\") {\r\n      sorted.sort((a, b) =>\r\n        (a.title ?? \"\").localeCompare(b.title ?? \"\")\r\n      );\r\n    }\r\n\r\n    if (type === \"ano\") {\r\n      sorted.sort((a, b) =>\r\n        (a.year ?? 0) - (b.year ?? 0)\r\n      );\r\n    }\r\n\r\n    setItems(sorted);\r\n  }\r\n\r\n  return {\r\n    items,\r\n    loadMore,\r\n    sortItems,\r\n    loading,\r\n    finished\r\n  };\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;;AAEO,SAAS;IACd,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAQ,EAAE;IAC5C,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAC;IACjC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IACzC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,MAAM,WAAW,IAAA,+MAAM,EAAS;IAEhC,eAAe,SAAS,IAAY;QAClC,IAAI,WAAW,UAAU;QACzB,WAAW;QAEX,IAAI,SAAS,SAAS,OAAO,EAAE;YAC7B,sBAAsB;YACtB,SAAS,OAAO,GAAG;YACnB,SAAS,EAAE;YACX,QAAQ;YACR,YAAY;QACd;QAEA,MAAM,MAAM,CAAC,iCAAiC,EAAE,KAAK,MAAM,EAAE,MAAM;QACnE,MAAM,WAAW,MAAM,MAAM;QAE7B,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,QAAQ,KAAK,CAAC,eAAe,SAAS,MAAM;YAC5C,WAAW;YACX;QACF;QAEA,MAAM,OAAO,MAAM,SAAS,IAAI;QAChC,MAAM,OAAO,KAAK,IAAI,IAAI,EAAE;QAE5B,IAAI,KAAK,MAAM,KAAK,GAAG;YACrB,YAAY;QACd,OAAO;YACL,SAAS,CAAA,MAAO;uBAAI;uBAAQ;iBAAK;YACjC,QAAQ,CAAA,MAAO,MAAM;QACvB;QAEA,WAAW;IACb;IAEA,SAAS,UAAU,IAAY;QAC7B,MAAM,SAAS;eAAI;SAAM;QAEzB,IAAI,SAAS,QAAQ;YACnB,OAAO,IAAI,CAAC,CAAC,GAAG,IACd,CAAC,EAAE,KAAK,IAAI,EAAE,EAAE,aAAa,CAAC,EAAE,KAAK,IAAI;QAE7C;QAEA,IAAI,SAAS,OAAO;YAClB,OAAO,IAAI,CAAC,CAAC,GAAG,IACd,CAAC,EAAE,IAAI,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,IAAI,CAAC;QAEhC;QAEA,SAAS;IACX;IAEA,OAAO;QACL;QACA;QACA;QACA;QACA;IACF;AACF"}},
    {"offset": {"line": 204, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ivyso/Documents/proj_animes/proj_anime/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect, useRef } from \"react\";\nimport SearchBox from \"@/components/SearchBox\";\nimport AnimeCard from \"@/components/AnimeCard\"; // novo componente para cada anime\nimport { useAnimeList } from \"@/hooks/useAnimeList\";\n\nexport default function Page() {\n  const { items, search, sortItems, loadMore, finished, loading } = useAnimeList();\n  const [term, setTerm] = useState(\"\");\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  // Scroll infinito\n  const handleScroll = () => {\n    if (!containerRef.current || loading || finished) return;\n\n    const { scrollTop, scrollHeight, clientHeight } = containerRef.current;\n    if (scrollTop + clientHeight >= scrollHeight - 150) {\n      loadMore(term);\n    }\n  };\n\n  useEffect(() => {\n    const div = containerRef.current;\n    div?.addEventListener(\"scroll\", handleScroll);\n    return () => div?.removeEventListener(\"scroll\", handleScroll);\n  }, [term, loading, finished]);\n\n  return (\n    <div\n      style={{\n        minHeight: \"100vh\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        background: \"#121212\",\n        color: \"#fff\",\n        padding: \"20px\",\n      }}\n    >\n      {/* Título */}\n      <h1 style={{ fontSize: \"2rem\", marginBottom: \"20px\", textAlign: \"center\" }}>\n        Explorar Animes\n      </h1>\n\n      {/* Busca e Ordenação */}\n      <div\n        style={{\n          display: \"flex\",\n          flexDirection: \"column\",\n          gap: \"10px\",\n          maxWidth: \"600px\",\n          margin: \"0 auto 20px auto\",\n        }}\n      >\n        <SearchBox\n          value={term}\n          onChange={(v) => setTerm(v)}\n          onSearch={() => search(term)}\n        />\n\n        <div style={{ display: \"flex\", gap: \"10px\" }}>\n          <button\n            style={{\n              flex: 1,\n              padding: \"10px\",\n              borderRadius: \"8px\",\n              background: \"#1f1f1f\",\n              color: \"#fff\",\n              cursor: \"pointer\",\n            }}\n            onClick={() => sortItems(\"nome\")}\n          >\n            Ordenar por Nome\n          </button>\n\n          <button\n            style={{\n              flex: 1,\n              padding: \"10px\",\n              borderRadius: \"8px\",\n              background: \"#1f1f1f\",\n              color: \"#fff\",\n              cursor: \"pointer\",\n            }}\n            onClick={() => sortItems(\"ano\")}\n          >\n            Ordenar por Ano\n          </button>\n        </div>\n      </div>\n\n      {/* Lista de Animes */}\n      <div\n        ref={containerRef}\n        style={{\n          flex: 1,\n          overflowY: \"auto\",\n          display: \"grid\",\n          gridTemplateColumns: \"repeat(auto-fill, minmax(180px, 1fr))\",\n          gap: \"15px\",\n          padding: \"10px\",\n        }}\n      >\n        {items.map((anime) => (\n          <AnimeCard key={anime.mal_id} anime={anime} />\n        ))}\n\n        {loading && (\n          <div style={{ gridColumn: \"1/-1\", textAlign: \"center\" }}>Carregando...</div>\n        )}\n\n        {finished && items.length > 0 && (\n          <div style={{ gridColumn: \"1/-1\", textAlign: \"center\", color: \"#888\" }}>\n            Fim da lista\n          </div>\n        )}\n\n        {!loading && items.length === 0 && (\n          <div style={{ gridColumn: \"1/-1\", textAlign: \"center\", color: \"#888\" }}>\n            Nenhum anime encontrado\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA,qNAAgD,kCAAkC;AAClF;AALA;;;;;;AAOe,SAAS;IACtB,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,SAAS,EAAE,QAAQ,EAAE,QAAQ,EAAE,OAAO,EAAE,GAAG,IAAA,qIAAY;IAC9E,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAC;IACjC,MAAM,eAAe,IAAA,+MAAM,EAAiB;IAE5C,kBAAkB;IAClB,MAAM,eAAe;QACnB,IAAI,CAAC,aAAa,OAAO,IAAI,WAAW,UAAU;QAElD,MAAM,EAAE,SAAS,EAAE,YAAY,EAAE,YAAY,EAAE,GAAG,aAAa,OAAO;QACtE,IAAI,YAAY,gBAAgB,eAAe,KAAK;YAClD,SAAS;QACX;IACF;IAEA,IAAA,kNAAS,EAAC;QACR,MAAM,MAAM,aAAa,OAAO;QAChC,KAAK,iBAAiB,UAAU;QAChC,OAAO,IAAM,KAAK,oBAAoB,UAAU;IAClD,GAAG;QAAC;QAAM;QAAS;KAAS;IAE5B,qBACE,8OAAC;QACC,OAAO;YACL,WAAW;YACX,SAAS;YACT,eAAe;YACf,YAAY;YACZ,OAAO;YACP,SAAS;QACX;;0BAGA,8OAAC;gBAAG,OAAO;oBAAE,UAAU;oBAAQ,cAAc;oBAAQ,WAAW;gBAAS;0BAAG;;;;;;0BAK5E,8OAAC;gBACC,OAAO;oBACL,SAAS;oBACT,eAAe;oBACf,KAAK;oBACL,UAAU;oBACV,QAAQ;gBACV;;kCAEA,8OAAC,mIAAS;wBACR,OAAO;wBACP,UAAU,CAAC,IAAM,QAAQ;wBACzB,UAAU,IAAM,OAAO;;;;;;kCAGzB,8OAAC;wBAAI,OAAO;4BAAE,SAAS;4BAAQ,KAAK;wBAAO;;0CACzC,8OAAC;gCACC,OAAO;oCACL,MAAM;oCACN,SAAS;oCACT,cAAc;oCACd,YAAY;oCACZ,OAAO;oCACP,QAAQ;gCACV;gCACA,SAAS,IAAM,UAAU;0CAC1B;;;;;;0CAID,8OAAC;gCACC,OAAO;oCACL,MAAM;oCACN,SAAS;oCACT,cAAc;oCACd,YAAY;oCACZ,OAAO;oCACP,QAAQ;gCACV;gCACA,SAAS,IAAM,UAAU;0CAC1B;;;;;;;;;;;;;;;;;;0BAOL,8OAAC;gBACC,KAAK;gBACL,OAAO;oBACL,MAAM;oBACN,WAAW;oBACX,SAAS;oBACT,qBAAqB;oBACrB,KAAK;oBACL,SAAS;gBACX;;oBAEC,MAAM,GAAG,CAAC,CAAC,sBACV,8OAAC,mIAAS;4BAAoB,OAAO;2BAArB,MAAM,MAAM;;;;;oBAG7B,yBACC,8OAAC;wBAAI,OAAO;4BAAE,YAAY;4BAAQ,WAAW;wBAAS;kCAAG;;;;;;oBAG1D,YAAY,MAAM,MAAM,GAAG,mBAC1B,8OAAC;wBAAI,OAAO;4BAAE,YAAY;4BAAQ,WAAW;4BAAU,OAAO;wBAAO;kCAAG;;;;;;oBAKzE,CAAC,WAAW,MAAM,MAAM,KAAK,mBAC5B,8OAAC;wBAAI,OAAO;4BAAE,YAAY;4BAAQ,WAAW;4BAAU,OAAO;wBAAO;kCAAG;;;;;;;;;;;;;;;;;;AAOlF"}},
    {"offset": {"line": 400, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ivyso/Documents/proj_animes/proj_anime/node_modules/next/src/server/route-modules/app-page/module.compiled.js"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK"],"mappings":"AAAA,IAAIA,QAAQC,GAAG,CAACC,YAAY,KAAK,QAAQ;;KAElC;IACL,IAAIF,QAAQC,GAAG,CAACK,yBAAyB,EAAE;;SAcpC;QACL,IAAIN,QAAQC,GAAG,CAACM,QAAQ,KAAK,WAAe;YAC1C,IAAIP,QAAQC,GAAG,CAACO,SAAS,eAAE;gBACzBL,OAAOC,OAAO,GAAGC,QAAQ;YAC3B,OAAO;;QAGT,OAAO;;IAOT;AACF","ignoreList":[0]}},
    {"offset": {"line": 419, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ivyso/Documents/proj_animes/proj_anime/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,kBAAkB","ignoreList":[0]}},
    {"offset": {"line": 424, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ivyso/Documents/proj_animes/proj_anime/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n"],"names":["module","exports","require","vendored","React"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,KAAK","ignoreList":[0]}}]
}