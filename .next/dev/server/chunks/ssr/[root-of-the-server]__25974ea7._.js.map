{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ivyso/Documents/proj_animes/proj_anime/components/SearchBox.tsx"],"sourcesContent":["\"use client\";\r\nimport { useState } from \"react\";\r\n\r\nexport default function SearchBox({ onSearch }) {\r\n  const [term, setTerm] = useState(\"\");\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onSearch(term);\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} style={{ marginBottom: 20 }}>\r\n      <input\r\n        value={term}\r\n        onChange={e => setTerm(e.target.value)}\r\n        placeholder=\"Buscar anime...\"\r\n        style={{\r\n          padding: \"8px\",\r\n          width: \"250px\",\r\n          marginRight: \"10px\",\r\n          border: \"1px solid #ccc\"\r\n        }}\r\n      />\r\n\r\n      <button type=\"submit\">\r\n        Buscar\r\n      </button>\r\n    </form>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AADA;;;AAGe,SAAS,UAAU,EAAE,QAAQ,EAAE;IAC5C,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,+GAAQ,EAAC;IAEjC,SAAS,aAAa,CAAC;QACrB,EAAE,cAAc;QAChB,SAAS;IACX;IAEA,qBACE,qKAAC;QAAK,UAAU;QAAc,OAAO;YAAE,cAAc;QAAG;;0BACtD,qKAAC;gBACC,OAAO;gBACP,UAAU,CAAA,IAAK,QAAQ,EAAE,MAAM,CAAC,KAAK;gBACrC,aAAY;gBACZ,OAAO;oBACL,SAAS;oBACT,OAAO;oBACP,aAAa;oBACb,QAAQ;gBACV;;;;;;0BAGF,qKAAC;gBAAO,MAAK;0BAAS;;;;;;;;;;;;AAK5B"}},
    {"offset": {"line": 83, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ivyso/Documents/proj_animes/proj_anime/components/AnimeCard.tsx"],"sourcesContent":["interface AnimeCardProps {\r\n  anime: any;\r\n}\r\n\r\nexport default function AnimeCard({ anime }: AnimeCardProps) {\r\n  return (\r\n    <div\r\n      style={{\r\n        backgroundColor: \"#1e1e1e\",\r\n        borderRadius: 12,\r\n        overflow: \"hidden\",\r\n        boxShadow: \"0 4px 12px rgba(0,0,0,0.4)\",\r\n        cursor: \"pointer\",\r\n        transition: \"transform 0.2s, box-shadow 0.2s\",\r\n      }}\r\n      onMouseEnter={(e) => {\r\n        const target = e.currentTarget;\r\n        target.style.transform = \"translateY(-5px)\";\r\n        target.style.boxShadow = \"0 8px 20px rgba(0,0,0,0.6)\";\r\n      }}\r\n      onMouseLeave={(e) => {\r\n        const target = e.currentTarget;\r\n        target.style.transform = \"translateY(0)\";\r\n        target.style.boxShadow = \"0 4px 12px rgba(0,0,0,0.4)\";\r\n      }}\r\n    >\r\n      <img\r\n        src={anime.images?.jpg?.image_url}\r\n        alt={anime.title}\r\n        style={{ width: \"100%\", height: 240, objectFit: \"cover\" }}\r\n      />\r\n\r\n      <div style={{ padding: 10 }}>\r\n        <h3\r\n          style={{\r\n            color: \"white\",\r\n            fontSize: 16,\r\n            margin: \"0 0 6px 0\",\r\n            overflow: \"hidden\",\r\n            textOverflow: \"ellipsis\",\r\n            whiteSpace: \"nowrap\",\r\n          }}\r\n        >\r\n          {anime.title}\r\n        </h3>\r\n\r\n        {anime.year && (\r\n          <p style={{ color: \"#ccc\", fontSize: 14, margin: 0 }}>Ano: {anime.year}</p>\r\n        )}\r\n\r\n        {anime.score && (\r\n          <p style={{ color: \"#f5c518\", fontSize: 14, margin: \"4px 0 0 0\" }}>\r\n            ⭐ {anime.score}\r\n          </p>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;AAIe,SAAS,UAAU,EAAE,KAAK,EAAkB;IACzD,qBACE,qKAAC;QACC,OAAO;YACL,iBAAiB;YACjB,cAAc;YACd,UAAU;YACV,WAAW;YACX,QAAQ;YACR,YAAY;QACd;QACA,cAAc,CAAC;YACb,MAAM,SAAS,EAAE,aAAa;YAC9B,OAAO,KAAK,CAAC,SAAS,GAAG;YACzB,OAAO,KAAK,CAAC,SAAS,GAAG;QAC3B;QACA,cAAc,CAAC;YACb,MAAM,SAAS,EAAE,aAAa;YAC9B,OAAO,KAAK,CAAC,SAAS,GAAG;YACzB,OAAO,KAAK,CAAC,SAAS,GAAG;QAC3B;;0BAEA,qKAAC;gBACC,KAAK,MAAM,MAAM,EAAE,KAAK;gBACxB,KAAK,MAAM,KAAK;gBAChB,OAAO;oBAAE,OAAO;oBAAQ,QAAQ;oBAAK,WAAW;gBAAQ;;;;;;0BAG1D,qKAAC;gBAAI,OAAO;oBAAE,SAAS;gBAAG;;kCACxB,qKAAC;wBACC,OAAO;4BACL,OAAO;4BACP,UAAU;4BACV,QAAQ;4BACR,UAAU;4BACV,cAAc;4BACd,YAAY;wBACd;kCAEC,MAAM,KAAK;;;;;;oBAGb,MAAM,IAAI,kBACT,qKAAC;wBAAE,OAAO;4BAAE,OAAO;4BAAQ,UAAU;4BAAI,QAAQ;wBAAE;;4BAAG;4BAAM,MAAM,IAAI;;;;;;;oBAGvE,MAAM,KAAK,kBACV,qKAAC;wBAAE,OAAO;4BAAE,OAAO;4BAAW,UAAU;4BAAI,QAAQ;wBAAY;;4BAAG;4BAC9D,MAAM,KAAK;;;;;;;;;;;;;;;;;;;AAM1B"}},
    {"offset": {"line": 190, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ivyso/Documents/proj_animes/proj_anime/pages/index.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState, useRef } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport SearchBox from \"@/components/SearchBox\";\r\nimport AnimeCard from \"@/components/AnimeCard\";\r\n\r\nexport default function Page() {\r\n  const router = useRouter();\r\n  const [items, setItems] = useState<any[]>([]);\r\n  const [page, setPage] = useState(1);\r\n  const [term, setTerm] = useState(\"\");\r\n  const [finished, setFinished] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const observerRef = useRef<HTMLDivElement>(null);\r\n\r\n  // Carregar animes iniciais ou busca\r\n  useEffect(() => {\r\n    loadItems(term, page);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [page, term]);\r\n\r\n  // Mudança aqui: agora estamos buscando animes atuais (em exibição)\r\n  async function loadItems(searchTerm: string, currentPage: number) {\r\n    if (loading || finished) return;\r\n    setLoading(true);\r\n    try {\r\n      const url = searchTerm\r\n        ? `https://api.jikan.moe/v4/anime?q=${searchTerm}&page=${currentPage}`\r\n        : `https://api.jikan.moe/v4/seasons/now?page=${currentPage}`; // <-- aqui a mudança\r\n\r\n      const res = await fetch(url);\r\n      const json = await res.json();\r\n      const data = json.data ?? [];\r\n\r\n      if (data.length === 0) {\r\n        setFinished(true);\r\n      } else {\r\n        setItems(prev => [...prev, ...data]);\r\n      }\r\n    } catch (e) {\r\n      console.error(e);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  function handleSearch(newTerm: string) {\r\n    setTerm(newTerm);\r\n    setPage(1);\r\n    setItems([]);\r\n    setFinished(false);\r\n  }\r\n\r\n  // Scroll infinito usando IntersectionObserver\r\n  useEffect(() => {\r\n    if (!observerRef.current) return;\r\n\r\n    const observer = new IntersectionObserver(entries => {\r\n      if (entries[0].isIntersecting && !finished && !loading) {\r\n        setPage(prev => prev + 1);\r\n      }\r\n    });\r\n\r\n    observer.observe(observerRef.current);\r\n    return () => observer.disconnect();\r\n  }, [finished, loading]);\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        width: \"100vw\",\r\n        minHeight: \"100vh\",\r\n        backgroundImage: \"url('/scenario.png')\",\r\n        backgroundSize: \"cover\",\r\n        backgroundPosition: \"center\",\r\n        padding: 20,\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        alignItems: \"center\",\r\n      }}\r\n    >\r\n      <h1 style={{ color: \"white\", marginBottom: 20 }}>Buscar Animes</h1>\r\n\r\n      <SearchBox onSearch={handleSearch} />\r\n\r\n      <div\r\n        style={{\r\n          display: \"grid\",\r\n          gridTemplateColumns: \"repeat(auto-fill, minmax(180px, 1fr))\",\r\n          gap: 20,\r\n          width: \"100%\",\r\n          maxWidth: 1000,\r\n        }}\r\n      >\r\n        {items.map((anime) => (\r\n          <div\r\n            key={anime.mal_id}\r\n            onClick={() => router.push(`/${anime.mal_id}`)}\r\n            style={{ cursor: \"pointer\" }}\r\n          >\r\n            <AnimeCard anime={anime} />\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      {loading && <p style={{ color: \"white\", marginTop: 20 }}>Carregando...</p>}\r\n      {!loading && items.length === 0 && (\r\n        <p style={{ color: \"white\", marginTop: 20 }}>Nenhum anime encontrado.</p>\r\n      )}\r\n\r\n      <div ref={observerRef} style={{ height: 20 }} />\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAOe,SAAS;IACtB,MAAM,SAAS,IAAA,wIAAS;IACxB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,+GAAQ,EAAQ,EAAE;IAC5C,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,+GAAQ,EAAC;IACjC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,+GAAQ,EAAC;IACjC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,+GAAQ,EAAC;IACzC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,+GAAQ,EAAC;IAEvC,MAAM,cAAc,IAAA,6GAAM,EAAiB;IAE3C,oCAAoC;IACpC,IAAA,gHAAS,EAAC;QACR,UAAU,MAAM;IAChB,uDAAuD;IACzD,GAAG;QAAC;QAAM;KAAK;IAEf,mEAAmE;IACnE,eAAe,UAAU,UAAkB,EAAE,WAAmB;QAC9D,IAAI,WAAW,UAAU;QACzB,WAAW;QACX,IAAI;YACF,MAAM,MAAM,aACR,CAAC,iCAAiC,EAAE,WAAW,MAAM,EAAE,aAAa,GACpE,CAAC,0CAA0C,EAAE,aAAa,EAAE,qBAAqB;YAErF,MAAM,MAAM,MAAM,MAAM;YACxB,MAAM,OAAO,MAAM,IAAI,IAAI;YAC3B,MAAM,OAAO,KAAK,IAAI,IAAI,EAAE;YAE5B,IAAI,KAAK,MAAM,KAAK,GAAG;gBACrB,YAAY;YACd,OAAO;gBACL,SAAS,CAAA,OAAQ;2BAAI;2BAAS;qBAAK;YACrC;QACF,EAAE,OAAO,GAAG;YACV,QAAQ,KAAK,CAAC;QAChB,SAAU;YACR,WAAW;QACb;IACF;IAEA,SAAS,aAAa,OAAe;QACnC,QAAQ;QACR,QAAQ;QACR,SAAS,EAAE;QACX,YAAY;IACd;IAEA,8CAA8C;IAC9C,IAAA,gHAAS,EAAC;QACR,IAAI,CAAC,YAAY,OAAO,EAAE;QAE1B,MAAM,WAAW,IAAI,qBAAqB,CAAA;YACxC,IAAI,OAAO,CAAC,EAAE,CAAC,cAAc,IAAI,CAAC,YAAY,CAAC,SAAS;gBACtD,QAAQ,CAAA,OAAQ,OAAO;YACzB;QACF;QAEA,SAAS,OAAO,CAAC,YAAY,OAAO;QACpC,OAAO,IAAM,SAAS,UAAU;IAClC,GAAG;QAAC;QAAU;KAAQ;IAEtB,qBACE,qKAAC;QACC,OAAO;YACL,OAAO;YACP,WAAW;YACX,iBAAiB;YACjB,gBAAgB;YAChB,oBAAoB;YACpB,SAAS;YACT,SAAS;YACT,eAAe;YACf,YAAY;QACd;;0BAEA,qKAAC;gBAAG,OAAO;oBAAE,OAAO;oBAAS,cAAc;gBAAG;0BAAG;;;;;;0BAEjD,qKAAC,4HAAS;gBAAC,UAAU;;;;;;0BAErB,qKAAC;gBACC,OAAO;oBACL,SAAS;oBACT,qBAAqB;oBACrB,KAAK;oBACL,OAAO;oBACP,UAAU;gBACZ;0BAEC,MAAM,GAAG,CAAC,CAAC,sBACV,qKAAC;wBAEC,SAAS,IAAM,OAAO,IAAI,CAAC,CAAC,CAAC,EAAE,MAAM,MAAM,EAAE;wBAC7C,OAAO;4BAAE,QAAQ;wBAAU;kCAE3B,cAAA,qKAAC,4HAAS;4BAAC,OAAO;;;;;;uBAJb,MAAM,MAAM;;;;;;;;;;YAStB,yBAAW,qKAAC;gBAAE,OAAO;oBAAE,OAAO;oBAAS,WAAW;gBAAG;0BAAG;;;;;;YACxD,CAAC,WAAW,MAAM,MAAM,KAAK,mBAC5B,qKAAC;gBAAE,OAAO;oBAAE,OAAO;oBAAS,WAAW;gBAAG;0BAAG;;;;;;0BAG/C,qKAAC;gBAAI,KAAK;gBAAa,OAAO;oBAAE,QAAQ;gBAAG;;;;;;;;;;;;AAGjD"}}]
}